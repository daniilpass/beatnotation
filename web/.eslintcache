[{"E:\\Workspace\\git\\beat\\web\\src\\index.js":"1","E:\\Workspace\\git\\beat\\web\\src\\components\\app\\App.js":"2","E:\\Workspace\\git\\beat\\web\\src\\components\\noteList\\noteList.js":"3","E:\\Workspace\\git\\beat\\web\\src\\components\\track\\track.js":"4","E:\\Workspace\\git\\beat\\web\\src\\components\\track\\note.js":"5","E:\\Workspace\\git\\beat\\web\\src\\components\\track\\trackControl.js":"6"},{"size":532,"mtime":1611669435888,"results":"7","hashOfConfig":"8"},{"size":21589,"mtime":1612292837903,"results":"9","hashOfConfig":"8"},{"size":17208,"mtime":1612293587585,"results":"10","hashOfConfig":"8"},{"size":2236,"mtime":1612275264867,"results":"11","hashOfConfig":"8"},{"size":1007,"mtime":1612205469070,"results":"12","hashOfConfig":"8"},{"size":2670,"mtime":1612286023842,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1gmhed2",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},"E:\\Workspace\\git\\beat\\web\\src\\index.js",[],["28","29"],"E:\\Workspace\\git\\beat\\web\\src\\components\\app\\App.js",[],"E:\\Workspace\\git\\beat\\web\\src\\components\\noteList\\noteList.js",["30"],"E:\\Workspace\\git\\beat\\web\\src\\components\\track\\track.js",[],"E:\\Workspace\\git\\beat\\web\\src\\components\\track\\note.js",[],"E:\\Workspace\\git\\beat\\web\\src\\components\\track\\trackControl.js",["31"],"import React from \"react\";\r\n\r\nclass TrackControl extends React.Component {\r\n    constructor(props) {\r\n      super(props);  \r\n      \r\n      this.drag = {\r\n        oldClientX: -1,\r\n        oldClientY: -1\r\n      }\r\n\r\n      this.state = {\r\n        tmpVolume: -1\r\n      }\r\n\r\n      this.tcVolume = React.createRef();\r\n    }\r\n\r\n    get Title(){\r\n      return this.props.track.title;\r\n    }\r\n\r\n    get Volume() {\r\n      return Math.trunc(this.state.tmpVolume > -1 ? this.state.tmpVolume : this.props.track.volume * 100);\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.tcVolume.current.onmousedown = this.dragMouseDown;\r\n    }\r\n\r\n    shouldComponentUpdate(prevPros, prevState) {\r\n      // console.log('shouldComponentUpdate', this.props, prevPros);\r\n      if (this.props.track.volume !== prevPros.track.volume\r\n        || this.state.tmpVolume !== prevState.tmpVolume) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    dragMouseDown = (e) => {\r\n      e.preventDefault();\r\n\r\n      this.setState({tmpVolume: this.props.track.volume * 100})\r\n      this.drag.oldClientX = e.clientX;\r\n      this.drag.oldClientY = e.clientY;\r\n\r\n      document.onmouseup = this.closeDragElement;\r\n      document.onmousemove = this.dragVolume;\r\n    }\r\n\r\n    closeDragElement = (e) => {\r\n      e.preventDefault();\r\n      document.onmouseup = null;\r\n      document.onmousemove = null;\r\n      this.props.onVolumeChange && this.props.onVolumeChange(this.state.tmpVolume / 100);\r\n      this.setState({tmpVolume: -1})\r\n    }\r\n\r\n    dragVolume = (e) => {\r\n      e.preventDefault();\r\n\r\n      //Cala delta\r\n      let deltaX = (this.drag.oldClientX - e.clientX);\r\n      let deltaY = (this.drag.oldClientY - e.clientY)\r\n      //Save new values as old\r\n      this.drag.oldClientX = e.clientX;\r\n      this.drag.oldClientY = e.clientY;\r\n      //change volume\r\n      let newVolume = this.state.tmpVolume + deltaY;\r\n      if (newVolume <= 100 && newVolume >= 0) {\r\n        window.requestAnimationFrame( () => { this.setState({tmpVolume: newVolume}) } );\r\n      }\r\n      //console.log(deltaX, deltaY, this.tmpVolume);\r\n    }\r\n\r\n    render() {  \r\n      console.log(\"Render TrackControl\");\r\n      return <div className=\"track-control\" style={{width: this.props.width, height: this.props.height}}>\r\n          <div className=\"track-control__volume\"  ref={this.tcVolume} style={{background: `linear-gradient(to top, rgb(13 136 0 / 52%) ${this.Volume}%, transparent 0% )`}}>\r\n            {this.Volume}\r\n          </div>\r\n          <div className=\"track-control__title\" style={{lineHeight: this.props.height-2+\"px\"}}>{this.Title}</div>\r\n          \r\n      </div>\r\n    }\r\n  }\r\n\r\n  export default TrackControl;",{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},{"ruleId":"36","severity":1,"message":"37","line":214,"column":13,"nodeType":"38","messageId":"39","endLine":214,"endColumn":21},{"ruleId":"36","severity":1,"message":"40","line":64,"column":11,"nodeType":"38","messageId":"39","endLine":64,"endColumn":17},"no-native-reassign",["41"],"no-negated-in-lhs",["42"],"no-unused-vars","'pattern4' is assigned a value but never used.","Identifier","unusedVar","'deltaX' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]